{% import 'shared/_currency.macro.html.twig' as currency %}

{% set class = class | default('') %}

<div class="{{ class }} d-flex justify-content-center align-items-center flex-column budget">
    <div class="d-flex justify-content-between align-items-center w-100 m-2 mb-1">
        <div class="d-flex justify-content-start align-items-center">
			<span class="ms-2">
				{{ budget.name }}
			</span>
        </div>
        <small>
            {{ currency.progress(budget.progress, budget.status.value) }}
            <span class="text-muted">/ {{ currency.amount(budget.amount, 'false') }}</span>
        </small>
    </div>
    <div class="progress w-100 m-2 mt-1 bg-light bg-opacity-25">
        {% set relativeProgress = min(
            budget.relativeProgress, 100
        ) %}
        <div class="progress-bar striped {{ budget.status.value }}"
             style="width: {{ relativeProgress }}%;"
        >
            {{ budget.relativeProgress | round }}%
        </div>
    </div>
</div>